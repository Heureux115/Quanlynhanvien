<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Lương Cá Nhân</title>
  <meta charset="UTF-8" />
</head>
<body><h2>Xem bảng lương cá nhân</h2>

<form method="get" action="/salary/personal">
  <label>Tháng:
    <select name="month">
      <option th:each="i : ${#numbers.sequence(1,12)}"
              th:value="${i}" th:text="${i}"
              th:selected="${i == month}">1</option>
    </select>
  </label>

  <label>Năm:
    <select name="year">
      <option th:each="y : ${#numbers.sequence(2020, 2030)}"
              th:value="${y}" th:text="${y}"
              th:selected="${y == year}">2025</option>
    </select>
  </label>

  <button type="submit">Xem lương</button>
</form>

<hr/>

<h3>Lương tháng [[${month}]]/[[${year}]]</h3>

<table border="1">
  <thead>
  <tr>
    <th>Ngày làm</th>
    <th>Ngày nghỉ</th>
    <th>Lương cơ bản</th>
    <th>Hệ số</th>
    <th>Thuế (%)</th>
    <th>Lương thực nhận</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="salary : ${salaries}">
    <td th:text="${salary.ngaylam}"></td>
    <td th:text="${salary.ngaynghi}"></td>
    <td th:text="${salary.luongcoban}"></td>
    <td th:text="${salary.hesoluong}"></td>
    <td th:text="${salary.thue * 100} + '%'"></td>
    <td th:text="${luongMap[salary.id]}"></td>
  </tr>
  <tr th:if="${#lists.isEmpty(salaries)}">
    <td colspan="6">Không có dữ liệu lương trong tháng này.</td>
  </tr>
  </tbody>
</table>
